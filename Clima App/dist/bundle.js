(()=>{"use strict";const t=new class{constructor(){this.ciudad,this.codigoPais,this.ciudadAutamtica="London",this.paisAutomatico="uk"}getDatosLocalizacion(){null===localStorage.getItem("city")?this.ciudad=this.ciudadAutamtica:this.ciudad=localStorage.getItem("city"),null===localStorage.getItem("countryCode")?this.codigoPais=this.paisAutomatico:this.codigoPais=localStorage.getItem("countryCode")}setDatosLocalizacion(t,e){localStorage.setItem("city",t),localStorage.setItem("countryCode",e)}},{ciudad:e,codigoPais:i}=t.getDatosLocalizacion,a=new class{constructor(t,e){this.apiKey="0c3d3681bc1fb276a0fdbd45b75a2429",this.ciudad=t,this.codigoPais=e}async getTiempo(){const t=`https://api.openweathermap.org/data/2.5/weather?q=${this.ciudad},${this.codigoPais}&appid=${this.apiKey}&units=metric`,e=await fetch(t);return await e.json}cambioLocalizacion(t,e){this.ciudad=t,this.codigoPais=e}}(e,i),o=new class{constructor(){this.localizacion=document.getElementById("weather-location"),this.desc=document.getElementById("weather-description"),this.string=document.getElementById("weather-string"),this.humedad=document.getElementById("weather-humidity"),this.viento=document.getElementById("weather-wind")}actualizar(t){console.log(t),this.localizacion.textContent=weather.name+" / "+weather.sys.country,this.desc.textContent=weather.weather[0].description,this.string.textContent=weather.main.temp+" °C",this.humedad.textContent="Humedad: "+weather.main.humidity+"°C",this.viento.textContent="Velocidad Viento "+weather.wind.speed+" m/s"}};async function c(){const t=await a.getTiempo();o.actualizar(t)}document.getElementById("w-change-btn").addEventListener("click",(e=>{const i=document.getElementById("city").value,o=document.getElementById("countryCode").ariaValueMax;a.cambioLocalizacion(i,o),t.setDatosLocalizacion(i,o),c()})),document.addEventListener("DOMContentLoaded",c)})();